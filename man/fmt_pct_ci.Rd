% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fmt_pct_ci.r
\name{fmt_pct_ci}
\alias{fmt_pct_ci}
\title{Format percentages with confidence intervals}
\usage{
fmt_pct_ci(
  p,
  lower_ci,
  upper_ci,
  ci_level = 0.95,
  estimate_suffix = "\%",
  bounds_suffix = "",
  dash = c("en", "rmd", "hyphen", "to"),
  pad_dash = FALSE,
  accuracy = NULL,
  scale = 100,
  prefix = "",
  big.mark = "",
  decimal.mark = ".",
  trim = TRUE,
  ...
)
}
\arguments{
\item{p}{Numeric vector of point estimates (typically proportions).}

\item{lower_ci}{Numeric vector of lower confidence interval bounds.}

\item{upper_ci}{Numeric vector of upper confidence interval bounds.}

\item{ci_level}{Confidence level to display in the label. Default is \code{0.95}
(printed as \code{"95\%"}).}

\item{estimate_suffix}{Suffix applied to the formatted point estimate
(default is \code{"\%"}). Use \code{""} for tables when \verb{\%} is already in the header.}

\item{bounds_suffix}{Suffix applied to the confidence interval bounds
(default is \code{""}). Generally left blank to avoid repeating \verb{\%}.}

\item{dash}{Character string indicating how to display the separator between
bounds. Options are \code{"en"} (en dash, default), \code{"rmd"} (two hyphens,
which knit to an en dash in R Markdown), \code{"hyphen"}, or \code{"to"}.}

\item{pad_dash}{Logical; if \code{TRUE}, adds spaces around the dash (e.g.,
\code{"41 – 49"} instead of \code{"41–49"}). Ignored when \code{dash = "to"}.}

\item{accuracy}{Rounding accuracy passed to \code{\link[=fmt_pct]{fmt_pct()}}.}

\item{scale}{Multiplier for values before formatting. Default is \code{100}
(for proportions stored as decimals).}

\item{prefix}{Character string prefix for formatted numbers (passed to
\code{\link[=fmt_pct]{fmt_pct()}}).}

\item{big.mark}{Character used as thousands separator (passed to
\code{\link[=fmt_pct]{fmt_pct()}}).}

\item{decimal.mark}{Character used as decimal point (passed to
\code{\link[=fmt_pct]{fmt_pct()}}).}

\item{trim}{Logical; if \code{TRUE} (default), removes trailing zeros after
decimal marks. Passed to \code{\link[=fmt_pct]{fmt_pct()}}.}

\item{...}{Additional arguments passed on to \code{\link[=fmt_pct]{fmt_pct()}}.}
}
\value{
A character vector with formatted estimates and confidence intervals.
}
\description{
A convenience wrapper around \code{\link[=fmt_pct]{fmt_pct()}} and \code{\link[glue:glue]{glue::glue()}} to format
point estimates and confidence intervals consistently for text and tables.
By default, the point estimate is shown with a percent sign and the bounds
are shown without, producing output like \code{"45\% (95\% CI: 41–49)"}.
}
\examples{
library(tibble)
library(dplyr)

# Text style (default)
tibble(p = 0.45, lower_ci = 0.41, upper_ci = 0.49) |>
  mutate(p_ci = fmt_pct_ci(p, lower_ci, upper_ci, dash = "en"))
#> "45\% (95\% CI: 41–49)"

# Table style (percent in header, Rmd-friendly dash)
tibble(p = 0.45, lower_ci = 0.41, upper_ci = 0.49) |>
  mutate(p_ci = fmt_pct_ci(p, lower_ci, upper_ci,
                           estimate_suffix = "", bounds_suffix = "", dash = "rmd"))
#> "45 (95\% CI: 41--49)"

# With padded en dash
tibble(p = 0.45, lower_ci = 0.41, upper_ci = 0.49) |>
  mutate(p_ci = fmt_pct_ci(p, lower_ci, upper_ci, dash = "en", pad_dash = TRUE))
#> "45\% (95\% CI: 41 – 49)"

}
